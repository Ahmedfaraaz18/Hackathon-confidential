<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Attendance System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- LOGIN VIEW -->
        <div id="loginView" class="view active">
            <div class="login-container">
                <div class="login-card">
                    <div class="login-header">
                        <h1>üìö Teacher Attendance System</h1>
                        <p>Science Department</p>
                    </div>
                    <form id="loginForm" onsubmit="handleLogin(event)">
                        <div class="form-group">
                            <label for="departmentSelect">Department (Optional for Principal/Management):</label>
                            <select id="departmentSelect" class="form-control">
                                <option value="">Select Department</option>
                                <option value="CSE">Computer Science &amp; Engineering</option>
                                <option value="CIVIL">Civil Engineering</option>
                                <option value="MECH">Mechanical Engineering</option>
                                <option value="ECE">Electronics &amp; Communication</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="emailInput">Email:</label>
                            <input type="email" id="emailInput" class="form-control" placeholder="your.email@school.edu" required />
                        </div>
                        <div class="form-group">
                            <label for="passwordInput">Password:</label>
                            <input type="password" id="passwordInput" class="form-control" placeholder="Enter password" required />
                        </div>
                        <button type="submit" class="btn btn-primary btn-full login-btn">Login</button>
                    </form>
                    <div class="login-demo-info">
                        <p><strong>Demo Credentials:</strong></p>
                        <p><strong>CSE:</strong> hod.cse@school.edu / admin123</p>
                        <p>Teacher: teacher.cse1@school.edu / teacher123</p>
                        <p><strong>Principal:</strong> principal@school.edu / admin123</p>
                        <p><strong>Management:</strong> management@school.edu / admin123</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- TEACHER DASHBOARD VIEW -->
        <div id="teacherDashboard" class="view">
            <header class="app-header">
                <div class="header-content">
                    <div class="header-title">
                        <h1><span id="teacherDeptName"></span></h1>
                        <p class="header-subtitle">Welcome, <span id="teacherName"></span> - Teacher Portal</p>
                    </div>
                    <div class="header-actions">
                        <button class="notification-bell" onclick="toggleAnnouncementModal()">
                            üîî
                            <span class="notification-badge" id="announcementBadge" style="display: none;">0</span>
                        </button>
                        <button class="btn btn-outline logout-btn" onclick="logout()">Logout</button>
                    </div>
                </div>
                <div class="datetime-display">
                    <div id="teacherDate" class="date"></div>
                    <div id="teacherTime" class="time"></div>
                </div>
            </header>

            <div class="container">
                <!-- Status Card -->
                <div class="status-card">
                    <div class="status-icon" id="teacherStatusIcon">‚è±Ô∏è</div>
                    <div class="status-content">
                        <div class="status-label">Current Status</div>
                        <div class="status-value" id="teacherStatus">Not Checked In</div>
                        <div class="status-time" id="teacherTimeOnCampus"></div>
                    </div>
                </div>

                <!-- Action Cards -->
                <div class="action-cards">
                    <div class="action-card" onclick="teacherCheckIn()">
                        <div class="action-card-icon">üì∑</div>
                        <h3>Check In</h3>
                        <p>Scan Check-In QR</p>
                    </div>
                    <div class="action-card" onclick="teacherCheckOut()">
                        <div class="action-card-icon">üö™</div>
                        <h3>Check Out</h3>
                        <p>Scan Check-Out QR</p>
                    </div>
                    <div class="action-card" onclick="viewMyRecords()">
                        <div class="action-card-icon">üìä</div>
                        <h3>My Records</h3>
                        <p>View History</p>
                    </div>
                    <div class="action-card" onclick="viewAnnouncements()">
                        <div class="action-card-icon">üì¢</div>
                        <h3>Announcements</h3>
                        <p>View All</p>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="quick-stats">
                    <div class="stat-item">
                        <div class="stat-label">Today's Check-In</div>
                        <div class="stat-value" id="todayCheckIn">--:--</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Expected Check-Out</div>
                        <div class="stat-value" id="expectedCheckout">4:10 PM</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- LATE ARRIVAL MODAL -->
        <div id="lateArrivalModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>‚ö†Ô∏è Late Arrival Detected</h2>
                </div>
                <div class="modal-body">
                    <p class="late-message" id="lateMessage">You are <strong id="minutesLate">0</strong> minutes late.</p>
                    <div class="form-group">
                        <label for="lateReasonSelect">Reason for Late Arrival:</label>
                        <select id="lateReasonSelect" class="form-control" required>
                            <option value="">Select Reason</option>
                            <option value="Traffic congestion">Traffic congestion</option>
                            <option value="Public transport delay">Public transport delay</option>
                            <option value="Family emergency">Family emergency</option>
                            <option value="Medical appointment">Medical appointment</option>
                            <option value="Vehicle breakdown">Vehicle breakdown</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group" id="otherReasonGroup" style="display: none;">
                        <label for="otherReasonText">Please specify:</label>
                        <textarea id="otherReasonText" class="form-control" rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="lateComments">Additional Comments (Optional):</label>
                        <textarea id="lateComments" class="form-control" rows="3" placeholder="Any additional information..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" onclick="cancelLateArrival()">Cancel</button>
                    <button class="btn btn-primary" onclick="submitLateArrival()">Submit</button>
                </div>
            </div>
        </div>

        <!-- ANNOUNCEMENTS MODAL -->
        <div id="announcementsModal" class="modal" style="display: none;">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h2>üì¢ Announcements</h2>
                    <button class="modal-close" onclick="closeAnnouncementModal()">‚úï</button>
                </div>
                <div class="modal-body">
                    <div id="announcementsList"></div>
                </div>
            </div>
        </div>

        <!-- HOD DASHBOARD VIEW -->
        <div id="hodDashboard" class="view">
            <header class="app-header">
                <div class="header-content">
                    <div class="header-title">
                        <h1>HOD Dashboard</h1>
                        <p class="header-subtitle"><span id="hodName"></span> - <span id="hodDeptDisplay"></span></p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-outline logout-btn" onclick="logout()">Logout</button>
                    </div>
                </div>
                <div class="datetime-display">
                    <div id="hodDate" class="date"></div>
                    <div id="hodTime" class="time"></div>
                </div>
            </header>

            <div class="container">
                <!-- Department Overview Stats -->
                <div class="overview-stats">
                    <div class="stat-card stat-total">
                        <div class="stat-card-icon">üë•</div>
                        <div class="stat-card-content">
                            <div class="stat-card-value">5</div>
                            <div class="stat-card-label">Total Teachers</div>
                        </div>
                    </div>
                    <div class="stat-card stat-present">
                        <div class="stat-card-icon">‚úÖ</div>
                        <div class="stat-card-content">
                            <div class="stat-card-value" id="presentCount">4</div>
                            <div class="stat-card-label">Present Today</div>
                        </div>
                    </div>
                    <div class="stat-card stat-absent">
                        <div class="stat-card-icon">‚ùå</div>
                        <div class="stat-card-content">
                            <div class="stat-card-value" id="absentCount">1</div>
                            <div class="stat-card-label">Absent Today</div>
                        </div>
                    </div>
                    <div class="stat-card stat-late">
                        <div class="stat-card-icon">‚è∞</div>
                        <div class="stat-card-content">
                            <div class="stat-card-value" id="lateCount">1</div>
                            <div class="stat-card-label">Late Arrivals</div>
                        </div>
                    </div>
                </div>

                <!-- QR Codes Section -->
                <div class="qr-section">
                    <h2>üî≤ Department QR Codes</h2>
                    <div class="qr-dual-container">
                        <div class="qr-code-box">
                            <h3 class="qr-box-title">Check-In QR</h3>
                            <div id="checkInQRCode"></div>
                            <p class="qr-label">Scan to Check In (9:00 AM - 9:15 AM)</p>
                            <div class="qr-actions">
                                <button class="btn btn-sm btn-primary" onclick="downloadQR('checkIn')">‚¨áÔ∏è Download</button>
                                <button class="btn btn-sm btn-secondary" onclick="printQR('checkIn')">üñ®Ô∏è Print</button>
                            </div>
                        </div>
                        <div class="qr-code-box">
                            <h3 class="qr-box-title">Check-Out QR</h3>
                            <div id="checkOutQRCode"></div>
                            <p class="qr-label">Scan to Check Out (4:10 PM onwards)</p>
                            <div class="qr-actions">
                                <button class="btn btn-sm btn-primary" onclick="downloadQR('checkOut')">‚¨áÔ∏è Download</button>
                                <button class="btn btn-sm btn-secondary" onclick="printQR('checkOut')">üñ®Ô∏è Print</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Faculty Management Tabs -->
                <div class="faculty-section">
                    <div class="faculty-header">
                        <h2>üë• Faculty Management</h2>
                        <button class="btn btn-primary" onclick="showAddFacultyModal()">‚ûï Add Faculty Member</button>
                    </div>
                    <div class="faculty-tabs">
                        <button class="tab-btn active" onclick="switchFacultyTab('present')">Present Today</button>
                        <button class="tab-btn" onclick="switchFacultyTab('absent')">Absent Today</button>
                        <button class="tab-btn" onclick="switchFacultyTab('late')">Late Arrivals</button>
                        <button class="tab-btn" onclick="switchFacultyTab('all')">All Faculty</button>
                    </div>
                    <div class="faculty-grid" id="facultyGrid"></div>
                </div>

                <!-- Announcements Section -->
                <div class="announcements-section">
                    <div class="faculty-header">
                        <h2>üì¢ Announcements &amp; Communication</h2>
                        <button class="btn btn-primary" onclick="showCreateAnnouncementModal()">‚ûï Create Announcement</button>
                    </div>
                    <div id="hodAnnouncementsList" class="announcements-list"></div>
                </div>

                <!-- Reports Section -->
                <div class="reports-section">
                    <h2>üìä Reports &amp; Analytics</h2>
                    <div class="report-actions">
                        <button class="btn btn-outline" onclick="exportToCSV()">üì• Export CSV</button>
                        <button class="btn btn-outline" onclick="exportToPDF()">üìÑ Export PDF</button>
                        <button class="btn btn-outline" onclick="showDetailedRecords()">üìã Detailed Records</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- PRINCIPAL DASHBOARD VIEW -->
        <div id="principalDashboard" class="view">
            <header class="app-header">
                <div class="header-content">
                    <div class="header-title">
                        <h1>Principal Dashboard</h1>
                        <p class="header-subtitle">All Departments Overview</p>
                    </div>
                    <button class="btn btn-outline logout-btn" onclick="logout()">Logout</button>
                </div>
                <div class="datetime-display">
                    <div id="principalDate" class="date"></div>
                    <div id="principalTime" class="time"></div>
                </div>
            </header>
            <div class="container">
                <div class="department-cards" id="principalDeptCards"></div>
                <div class="all-faculty-section">
                    <h2>üë• All Faculty Members</h2>
                    <div class="filters">
                        <div class="filter-group">
                            <label for="principalDeptFilter">Filter by Department:</label>
                            <select id="principalDeptFilter" class="form-control" onchange="filterPrincipalFaculty()">
                                <option value="">All Departments</option>
                                <option value="CSE">CSE</option>
                                <option value="CIVIL">Civil</option>
                                <option value="MECH">Mechanical</option>
                                <option value="ECE">ECE</option>
                            </select>
                        </div>
                    </div>
                    <div class="faculty-grid" id="principalFacultyGrid"></div>
                </div>
            </div>
        </div>

        <!-- MANAGEMENT DASHBOARD VIEW -->
        <div id="managementDashboard" class="view">
            <header class="app-header">
                <div class="header-content">
                    <div class="header-title">
                        <h1>Management Dashboard</h1>
                        <p class="header-subtitle">Analytics &amp; Reports</p>
                    </div>
                    <button class="btn btn-outline logout-btn" onclick="logout()">Logout</button>
                </div>
                <div class="datetime-display">
                    <div id="managementDate" class="date"></div>
                    <div id="managementTime" class="time"></div>
                </div>
            </header>
            <div class="container">
                <div class="overview-stats" id="managementStats"></div>
                <div class="department-cards" id="managementDeptCards"></div>
            </div>
        </div>

        <!-- ADD FACULTY MODAL -->
        <div id="addFacultyModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>‚ûï Add Faculty Member</h2>
                    <button class="modal-close" onclick="closeAddFacultyModal()">‚úï</button>
                </div>
                <div class="modal-body">
                    <form id="addFacultyForm" onsubmit="submitAddFaculty(event)">
                        <div class="form-group">
                            <label for="facultyEmployeeId">Employee ID:</label>
                            <input type="text" id="facultyEmployeeId" class="form-control" required />
                        </div>
                        <div class="form-group">
                            <label for="facultyName">Full Name:</label>
                            <input type="text" id="facultyName" class="form-control" required />
                        </div>
                        <div class="form-group">
                            <label for="facultyEmail">Email:</label>
                            <input type="email" id="facultyEmail" class="form-control" required />
                        </div>
                        <div class="form-group">
                            <label for="facultyPhone">Phone Number:</label>
                            <input type="tel" id="facultyPhone" class="form-control" required />
                        </div>
                        <div class="form-group">
                            <label for="facultyDesignation">Designation:</label>
                            <select id="facultyDesignation" class="form-control" required>
                                <option value="">Select Designation</option>
                                <option value="Assistant Professor">Assistant Professor</option>
                                <option value="Associate Professor">Associate Professor</option>
                                <option value="Professor">Professor</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="facultySubject">Subject/Area:</label>
                            <input type="text" id="facultySubject" class="form-control" required />
                        </div>
                        <div class="form-group">
                            <label>Photo:</label>
                            <div class="photo-upload">
                                <div class="photo-preview" id="photoPreview">
                                    <div class="photo-placeholder">üë§</div>
                                </div>
                                <input type="file" id="facultyPhoto" accept="image/*" onchange="previewPhoto(event)" style="display: none;" />
                                <button type="button" class="btn btn-outline" onclick="document.getElementById('facultyPhoto').click()">üì∑ Upload Photo</button>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline" onclick="closeAddFacultyModal()">Cancel</button>
                            <button type="submit" class="btn btn-primary">Save Faculty</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- CREATE ANNOUNCEMENT MODAL -->
        <div id="createAnnouncementModal" class="modal" style="display: none;">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h2>üì¢ Create Announcement</h2>
                    <button class="modal-close" onclick="closeCreateAnnouncementModal()">‚úï</button>
                </div>
                <div class="modal-body">
                    <form id="createAnnouncementForm" onsubmit="submitAnnouncement(event)">
                        <div class="form-group">
                            <label for="announcementTitle">Title:</label>
                            <input type="text" id="announcementTitle" class="form-control" required />
                        </div>
                        <div class="form-group">
                            <label for="announcementMessage">Message:</label>
                            <textarea id="announcementMessage" class="form-control" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="scheduleMeeting" onchange="toggleMeetingFields()" />
                                Schedule Meeting
                            </label>
                        </div>
                        <div id="meetingFields" style="display: none;">
                            <div class="form-group">
                                <label for="meetingDate">Meeting Date:</label>
                                <input type="date" id="meetingDate" class="form-control" />
                            </div>
                            <div class="form-group">
                                <label for="meetingTime">Meeting Time:</label>
                                <input type="time" id="meetingTime" class="form-control" />
                            </div>
                            <div class="form-group">
                                <label for="meetingLocation">Location:</label>
                                <input type="text" id="meetingLocation" class="form-control" />
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline" onclick="closeCreateAnnouncementModal()">Cancel</button>
                            <button type="submit" class="btn btn-primary">Send Announcement</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- HOME/DASHBOARD VIEW (OLD - KEPT FOR COMPATIBILITY) -->
        <div id="homeView" class="view">
            <header class="app-header">
                <h1>üìö Teacher Attendance System</h1>
                <div class="datetime-display">
                    <div id="currentDate" class="date"></div>
                    <div id="currentTime" class="time"></div>
                </div>
            </header>

            <div class="container">
                <!-- Today's Summary -->
                <div class="summary-cards">
                    <div class="summary-card">
                        <div class="summary-icon">‚úÖ</div>
                        <div class="summary-content">
                            <div class="summary-value" id="totalCheckIns">0</div>
                            <div class="summary-label">Check-Ins Today</div>
                        </div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-icon">üö™</div>
                        <div class="summary-content">
                            <div class="summary-value" id="totalCheckOuts">0</div>
                            <div class="summary-label">Check-Outs Today</div>
                        </div>
                    </div>
                </div>

                <!-- Main Action Buttons -->
                <div class="action-buttons">
                    <button class="action-btn btn-primary" onclick="showQRScanner('in')">
                        <span class="btn-icon">üì∑</span>
                        <span class="btn-text">Check In with QR Code</span>
                    </button>
                    <button class="action-btn btn-secondary" onclick="showQRScanner('out')">
                        <span class="btn-icon">üì∑</span>
                        <span class="btn-text">Check Out with QR Code</span>
                    </button>
                    <button class="action-btn btn-accent" onclick="showFaceScanner()">
                        <span class="btn-icon">ü§≥</span>
                        <span class="btn-text">Check In/Out with Face Scan</span>
                    </button>
                    <button class="action-btn btn-outline" onclick="showQRGenerator()">
                        <span class="btn-icon">üî≤</span>
                        <span class="btn-text">Generate Teacher QR Codes</span>
                    </button>
                    <button class="action-btn btn-outline" onclick="showRecordsView()">
                        <span class="btn-icon">üìä</span>
                        <span class="btn-text">View Attendance Records</span>
                    </button>
                </div>

                <!-- Recent Attendance -->
                <div class="recent-section">
                    <h2>Recent Attendance</h2>
                    <div id="recentAttendance" class="attendance-list"></div>
                </div>
            </div>
        </div>

        <!-- QR CODE SCANNER VIEW -->
        <div id="qrScannerView" class="view">
            <div class="scanner-header">
                <button class="back-btn" onclick="hideQRScanner()">‚Üê Back</button>
                <h2 id="scannerTitle">Scan QR Code</h2>
            </div>
            <div class="scanner-container">
                <div class="video-wrapper">
                    <video id="qrVideo" autoplay playsinline></video>
                    <div class="scan-overlay">
                        <div class="scan-frame"></div>
                    </div>
                    <canvas id="qrCanvas" style="display: none;"></canvas>
                </div>
                <div class="scanner-message" id="scannerMessage">Scanning for Department QR Code...</div>
                <div class="camera-error" id="cameraError" style="display: none;"></div>
            </div>
        </div>

        <!-- QR CONFIRMATION VIEW -->
        <div id="qrConfirmView" class="view">
            <div class="scanner-header">
                <button class="back-btn" onclick="cancelQRConfirm()">‚Üê Back</button>
                <h2>Confirm Check-In</h2>
            </div>
            <div class="preview-container">
                <div class="confirm-icon">‚úÖ</div>
                <h3>QR Code Verified</h3>
                <p>Science Department Check-Point</p>
                <div class="teacher-select">
                    <label for="qrTeacherSelect">Select Your Name:</label>
                    <select id="qrTeacherSelect" class="form-control"></select>
                </div>
                <div class="preview-actions">
                    <button class="btn btn-primary btn-full" onclick="confirmQRCheckIn()">‚úÖ Confirm Check-In</button>
                    <button class="btn btn-outline" onclick="cancelQRConfirm()">‚úï Cancel</button>
                </div>
            </div>
        </div>

        <!-- FACE SCAN VIEW -->
        <div id="faceScanView" class="view">
            <div class="scanner-header">
                <button class="back-btn" onclick="hideFaceScanner()">‚Üê Back</button>
                <h2>Face Scan Check In/Out</h2>
            </div>
            <div class="face-scanner-container">
                <div class="video-wrapper">
                    <video id="faceVideo" autoplay playsinline></video>
                    <div class="face-overlay">
                        <div class="face-guide" id="faceGuide"></div>
                    </div>
                    <canvas id="faceCanvas" style="display: none;"></canvas>
                </div>
                <div class="face-instructions" id="faceInstructions">Position your face in the circle</div>
                <div class="face-controls">
                    <button class="btn-capture" id="captureBtn" onclick="captureFace()" disabled>üì∏ Capture</button>
                </div>
                <div class="camera-error" id="faceCameraError" style="display: none;"></div>
            </div>
        </div>

        <!-- FACE CAPTURE PREVIEW -->
        <div id="facePreviewView" class="view">
            <div class="scanner-header">
                <h2>Confirm Attendance</h2>
            </div>
            <div class="preview-container">
                <img id="capturedImage" alt="Captured face" />
                <div class="teacher-select">
                    <label for="teacherSelect">Select Your Name:</label>
                    <select id="teacherSelect" class="form-control"></select>
                </div>
                <div class="action-select">
                    <label>Select Action:</label>
                    <div class="action-buttons-inline">
                        <button class="btn btn-primary" onclick="confirmFaceAttendance('in')">‚úÖ Check In</button>
                        <button class="btn btn-secondary" onclick="confirmFaceAttendance('out')">üö™ Check Out</button>
                    </div>
                </div>
                <div class="preview-actions">
                    <button class="btn btn-outline" onclick="retakeFace()">üîÑ Retake</button>
                    <button class="btn btn-outline" onclick="hideFacePreview()">‚úï Cancel</button>
                </div>
            </div>
        </div>

        <!-- QR CODE GENERATOR VIEW -->
        <div id="qrGeneratorView" class="view">
            <div class="scanner-header">
                <button class="back-btn" onclick="hideQRGenerator()">‚Üê Back</button>
                <h2>Generate Teacher QR Codes</h2>
            </div>
            <div class="container">
                <div class="generator-form">
                    <div class="form-group">
                        <label for="teacherIdInput">Teacher ID:</label>
                        <input type="text" id="teacherIdInput" class="form-control" placeholder="e.g., T001" required />
                    </div>
                    <div class="form-group">
                        <label for="teacherNameInput">Teacher Name:</label>
                        <input type="text" id="teacherNameInput" class="form-control" placeholder="e.g., John Smith" required />
                    </div>
                    <div class="form-group">
                        <label for="departmentInput">Department:</label>
                        <input type="text" id="departmentInput" class="form-control" placeholder="e.g., Mathematics" required />
                    </div>
                    <button class="btn btn-primary btn-full" onclick="generateQRCode()">üî≤ Generate QR Code</button>
                </div>

                <div id="generatedQRSection" class="generated-qr-section" style="display: none;">
                    <h3>Generated QR Code</h3>
                    <div class="qr-display">
                        <div id="qrCodeDisplay"></div>
                        <div class="qr-info" id="qrInfo"></div>
                    </div>
                    <div class="qr-actions">
                        <button class="btn btn-secondary" onclick="downloadQRCode()">‚¨áÔ∏è Download QR Code</button>
                        <button class="btn btn-outline" onclick="printQRCode()">üñ®Ô∏è Print QR Code</button>
                    </div>
                </div>

                <div id="qrList" class="qr-list"></div>
            </div>
        </div>

        <!-- ATTENDANCE RECORDS VIEW -->
        <div id="recordsView" class="view">
            <div class="scanner-header">
                <button class="back-btn" onclick="hideRecordsView()">‚Üê Back</button>
                <h2>Attendance Records</h2>
            </div>
            <div class="container">
                <div class="filters">
                    <div class="filter-group">
                        <label for="filterDate">Date:</label>
                        <input type="date" id="filterDate" class="form-control" onchange="filterRecords()" />
                    </div>
                    <div class="filter-group">
                        <label for="filterTeacher">Teacher:</label>
                        <input type="text" id="filterTeacher" class="form-control" placeholder="Search teacher..." oninput="filterRecords()" />
                    </div>
                    <div class="filter-group">
                        <label for="filterMethod">Method:</label>
                        <select id="filterMethod" class="form-control" onchange="filterRecords()">
                            <option value="">All</option>
                            <option value="QR">QR Code</option>
                            <option value="Face">Face Scan</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="clearFilters()">Clear Filters</button>
                    <button class="btn btn-secondary" onclick="exportToCSV()">üì• Export to CSV</button>
                </div>

                <div class="table-container">
                    <table class="records-table">
                        <thead>
                            <tr>
                                <th>Teacher Name</th>
                                <th>Teacher ID</th>
                                <th>Department</th>
                                <th>Check-In Time</th>
                                <th>Check-Out Time</th>
                                <th>Date</th>
                                <th>Method</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="recordsTableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div id="toast" class="toast"></div>
    </div>

    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/jsqr/dist/jsQR.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs2/qrcode.min.js"></script>
    <script src="app.js"></script>
</body>
</html>